const newTaskButton=document.getElementById("save"),newTaskInput=document.getElementById("task"),tasksArea=document.getElementById("tasks"),buttonClearCompleteds=document.getElementById("clear-completeds"),buttonAll=document.getElementById("all"),buttonActive=document.getElementById("active"),buttonCompleted=document.getElementById("completed"),buttonClearAll=document.getElementById("clear-all");let i=0,j=0,k=0,l=0,m=0,tasks=[];function save(){tasks.unshift({task:newTaskInput.value,completed:!1}),newTaskButton.disabled=!0,newTaskButton.classList.remove("active-save"),newTaskButton.innerHTML="",newTaskInput.value="",saveLocal(),searchLocal()}async function saveLocal(){await localStorage.setItem("tasks",JSON.stringify(tasks))}async function searchLocal(){null!=localStorage.getItem("tasks")&&null!=localStorage.getItem("tasks")&&(tasks=JSON.parse(await localStorage.getItem("tasks")),createList())}function createList(){for(tasksArea.innerHTML="<ul id='list'></ul>",i=0;i<tasks.length;i++)document.getElementById("list").innerHTML+=`<li id="${i}" class='item-list'><div class="btn-task"><button class="check-btn" onclick="check(${i})"><i style="color: #63E2DB;" class="fas fa-check"></i></button>${tasks[i].task}</div><button class="remove-btn" onclick="remove(${i})"><i class="delete fas fa-times"></i></button></li><hr>`,tasks[i].completed&&document.getElementById(`${i}`).classList.add("done"),buttonAll.disabled=!1,buttonActive.disabled=!1,buttonCompleted.disabled=!1,buttonAll.classList.add("op-active"),buttonActive.classList.remove("op-active"),buttonCompleted.classList.remove("op-active");let t=tasks.length;for(tasksArea.innerHTML+="<div id='pendents'></div>",document.getElementById("pendents").innerHTML=`<p>${t} tarefas restantes</p>`,j=0;j<tasks.length;j++)tasks[j].completed&&(t-=1,tasksArea.innerHTML+="<div id='pendents'></div>",document.getElementById("pendents").innerHTML=`<p>${t} tarefas restantes</p>`)}function check(t){tasks[t].completed?(tasks[t].completed=!1,saveLocal(),searchLocal()):(tasks[t].completed=!0,saveLocal(),searchLocal())}async function remove(t){tasks.splice(t,1),null==tasks||null==tasks||""==tasks?(await localStorage.removeItem("tasks"),tasks=[],tasksArea.innerHTML="<p class='clean'>Nenhuma tarefa cadastrada</p>"):(saveLocal(),searchLocal())}async function removeAll(){await localStorage.removeItem("tasks"),tasks=[],tasksArea.innerHTML="<p class='clean'>Nenhuma tarefa cadastrada</p>"}function nav(t){switch(t){case"all":createList();break;case"active":for(document.getElementById("list").innerHTML="",buttonAll.classList.remove("op-active"),buttonActive.classList.add("op-active"),buttonCompleted.classList.remove("op-active"),k=0;k<tasks.length;k++)tasks[k].completed||(document.getElementById("list").innerHTML+=`<li id="${k}" class='item-list'><div class="btn-task"><button class="check-btn" onclick="check(${k})"><i style="color: #63E2DB;" class="fas fa-check"></i></button>${tasks[k].task}</div><button class="remove-btn" onclick="remove(${k})"><i class="delete fas fa-times"></i></button></li><hr>`);break;case"completed":for(document.getElementById("list").innerHTML="",buttonAll.classList.remove("op-active"),buttonActive.classList.remove("op-active"),buttonCompleted.classList.add("op-active"),l=0;l<tasks.length;l++)tasks[l].completed&&(document.getElementById("list").innerHTML+=`<li id="${l}" class='item-list'><div class="btn-task"><button class="check-btn" onclick="check(${l})"><i style="color: #63E2DB;" class="fas fa-check"></i></button>${tasks[l].task}</div><button class="remove-btn" onclick="remove(${l})"><i class="delete fas fa-times"></i></button></li><hr>`,document.getElementById(`${l}`).classList.add("done"))}}newTaskInput.addEventListener("input",t=>{newTaskInput.value.length>0?(newTaskButton.disabled=!1,newTaskButton.classList.add("active-save"),newTaskButton.innerHTML='<i style="color: #FFFFFF;" class="fas fa-check"></i>'):(newTaskButton.disabled=!0,newTaskButton.classList.remove("active-save"),newTaskButton.innerHTML="")}),searchLocal();